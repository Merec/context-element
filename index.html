<!doctype html>
<html lang="en-US" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html">
<head>
	<meta charset="UTF-8">
	<title>Context Element</title>

	<meta name="viewport" content="width=device-width">

	<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" />
	<link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.min.css" />
	<link rel="stylesheet" type="text/css" href="css/github.css" />
	<link rel="stylesheet" type="text/css" href="css/styles.css" />

	<script type="text/javascript" src="//code.jquery.com/jquery-1.10.1.min.js"></script>
	<script type="text/javascript" src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="lib/highlight.pack.js"></script>
	<script type="text/javascript" src="context-element/contextElement.min.js"></script>

</head>
<body data-spy="scroll" data-target="#scrollspy-nav" data-offset="25">

<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
		<!-- Brand and toggle get grouped for better mobile display -->
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="index.html">ContextElement</a>
		</div>

		<!-- Collect the nav links, forms, and other content for toggling -->
		<div class="collapse navbar-collapse navbar-ex1-collapse">
			<ul class="nav navbar-nav visible-xs">
				<li><a href="#what">What it does</a></li>
				<li><a href="#demo">Demo</a></li>
				<li><a href="#download">Download</a></li>
				<li><a href="#usage">Usage</a></li>
				<li><a href="#changes">Changes</a></li>
			</ul>
			<ul class="nav navbar-nav navbar-right">
				<li><a href="https://github.com/Merec/context-element"><i class="icon-github"></i> GitHub project</a></li>
			</ul>
		</div>
		<!-- /.navbar-collapse -->
	</div>
</nav>

<div class="container">
	<div class="row">
		<div class="col-sm-3">
			<nav id="scrollspy-nav">
				<div class="well well-small affix main-nav-container hidden-xs">
					<ul class="nav">
						<li class="active"><a href="#what"><i class="icon-caret-right"></i> What it does</a></li>
						<li><a href="#demo"><i class="icon-caret-right"></i> Demo</a></li>
						<li><a href="#download"><i class="icon-caret-right"></i> Download</a></li>
						<li><a href="#usage"><i class="icon-caret-right"></i> Usage</a></li>
						<li><a href="#changes"><i class="icon-caret-right"></i> Changes</a></li>
					</ul>
				</div>
			</nav>
		</div>
		<div class="col-sm-9">

			<h1 class="page-header" id="what">What it does</h1>

			<p>
				ContextElement is a jQuery plugin which allows you to add an element as context item to any HTML element of your choice. It was originally designed to extend
				<a href="http://getbootstrap.com">Twitter Bootstrap</a> but it also runs as standalone. <br />
				The events can be triggered by left-, right- or middle mouse click or by touch for touch supported devices.
			</p>

			<h1 class="page-header" id="demo">Demo</h1>

			<div class="row">
				<div class="col-sm-4">
					<div class="panel panel-default">
						<div class="panel-heading">Default</div>
						<div class="panel-body" data-toggle="contextElement" data-target="#demo1">
							<small><span class="text-muted">Right click here</span></small>
						</div>
					</div>
					<ul class="dropdown-menu" role="menu" id="demo1">
						<li class="dropdown-header">Dropdown header</li>
						<li><a role="menuitem" tabindex="-1" href="#">Action</a></li>
						<li><a role="menuitem" tabindex="-1" href="#">Another action</a></li>
						<li><a role="menuitem" tabindex="-1" href="#">Something else here</a></li>
						<li class="divider"></li>
						<li class="dropdown-header">Dropdown header</li>
						<li><a role="menuitem" tabindex="-1" href="#">Separated link</a></li>
					</ul>
				</div>
				<div class="col-sm-4">
					<div class="panel panel-default">
						<div class="panel-heading">A very large one</div>
						<div class="panel-body" data-toggle="contextElement" data-target="#demo2">
							<small><span class="text-muted">Right click here</span></small>
						</div>
					</div>
					<ul class="dropdown-menu" role="menu" id="demo2">
						<li class="dropdown-header">Dropdown header</li>
						<li class="dropdown-submenu">
							<a data-toggle="dropdown" class="dropdown-toggle" href="#">Dropdown 2</a>
							<ul class="dropdown-menu">
								<li class="dropdown-submenu">
									<a href="#">More options</a>
									<ul class="dropdown-menu">
										<li><a href="#">Second level link</a></li>
										<li><a href="#">Second level link</a></li>
										<li><a href="#">Second level link</a></li>
										<li><a href="#">Second level link</a></li>
										<li><a href="#">Second level link</a></li>
									</ul>
								</li>
								<li><a href="#">Another action</a></li>
								<li><a href="#">Something else here</a></li>
								<li class="divider"></li>
								<li class="dropdown-header">Another header</li>
								<li><a href="#">Separated link</a></li>
								<li><a href="#">One more separated link</a></li>
							</ul>
						</li>
						<li><a role="menuitem" tabindex="-1" href="#">Another action</a></li>
						<li><a role="menuitem" tabindex="-1" href="#">Something else here</a></li>
						<li class="divider"></li>
						<li class="dropdown-header">Dropdown header</li>
						<li><a role="menuitem" tabindex="-1" href="#">Separated link</a></li>
						<li><a role="menuitem" tabindex="-1" href="#">Separated link 2</a></li>
						<li><a role="menuitem" tabindex="-1" href="#">Separated link 3</a></li>
						<li><a role="menuitem" tabindex="-1" href="#">Separated link 4</a></li>
						<li><a role="menuitem" tabindex="-1" href="#">Separated link 5</a></li>
						<li><a role="menuitem" tabindex="-1" href="#">Separated link 6</a></li>
						<li><a role="menuitem" tabindex="-1" href="#">Separated link 7</a></li>
					</ul>
				</div>
				<div class="col-sm-4">
					<div class="panel panel-default">
						<div class="panel-heading">Loaded via Ajax</div>
						<div class="panel-body" id="ajaxExample">
							<small><span class="text-muted">Right click here</span></small>
						</div>
					</div>
					<script>
						$(document).ready(function() {
							$('#ajaxExample').contextElement({
								source: 'ajax.html',
								sourceLoadingText: function() {
									return $('<div></div>').addClass('alert alert-success').html('<i class="icon-spinner icon-spin"></i> Loading ...');
								},
								ajax: {
									cache: false
								}
							});
						});
					</script>
				</div>
			</div>

			<div class="row">
				<div class="col-sm-4">
					<div class="panel panel-default">
						<div class="panel-heading">Something different</div>
						<div class="panel-body" data-toggle="contextElement" data-target="#demo4">
							<small><span class="text-muted">Right click here</span></small>
						</div>
					</div>
					<img src="http://lorempixel.com/output/technics-q-c-300-300-5.jpg" alt="An image as context element" style="display: none;" id="demo4">
				</div>
				<div class="col-sm-4">
					<div class="panel panel-default">
						<div class="panel-heading">Something different 2</div>
						<div class="panel-body" data-toggle="contextElement" data-target="#demo5">
							<small><span class="text-muted">Right click here</span></small>
						</div>
					</div>
					<div class="panel panel-primary" id="demo5" style="display: none;">
						<div class="panel-heading">Search here</div>
						<div class="panel-body">
							<iframe width="560" height="315" src="http://www.duckduckgo.com" frameborder="0"></iframe>
						</div>
					</div>
				</div>
				<div class="col-sm-4">
					<div class="panel panel-default">
						<div class="panel-heading">Modal example</div>
						<div class="panel-body" id="modalExample" data-toggle="contextElement" data-target="#demo6" data-modal="1">
							<small><span class="text-muted">Right click here</span></small>
						</div>
					</div>
					<div class="panel panel-primary" id="demo6" style="display: none;">
						<div class="panel-heading">Modal context element <i class="pull-right icon-remove" style="cursor: pointer;" onclick="$('#modalExample').contextElement('hide');"></i></div>
						<div class="panel-body">
							<iframe width="560" height="315" src="//www.youtube.com/embed/V4UfAL9f74I" frameborder="0" allowfullscreen></iframe>
						</div>
						<div class="panel-footer text-right">
							<a href="javascript: void(0);" onclick="$('#modalExample').contextElement('hide');" class="btn btn-sm btn-default"><i class="icon-remove"></i> Close</a>
						</div>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-sm-4">
					<div class="panel panel-default">
						<div class="panel-heading">OnDemand context</div>
						<div class="panel-body" id="ondemandExample">
							<small><span class="text-muted">Right click here</span></small>
						</div>
					</div>
					<script>
						$(document).ready(function() {
							$('#ondemandExample').contextElement({
								source: function() {
									var date = new Date();
									return $('<div></div>').addClass('alert alert-success').html('This is created on ' + date.toLocaleString());
								}
							});
						});
					</script>
				</div>
			</div>

			<div class="panel panel-info">
				<div class="panel-heading">Please note</div>
				<div class="panel-body">
					If you are not using a <code>dropdown-menu</code> as context element, add <code>style="display: none;"</code> to the element you want to display.
				</div>
			</div>

			<div class="panel panel-info">
				<div class="panel-heading">Touch devices</div>
				<div class="panel-body">
					If you want to display the context element on touch devices, start touching and hold for a half second. After stop touching, the context element appears.
				</div>
			</div>

			<h1 class="page-header" id="download">Download</h1>

			<p>
				Download from GitHub <a href="https://github.com/Merec/context-element"><i class="icon-github"></i> GitHub project</a>.
			</p>

			<h1 class="page-header" id="usage">Usage</h1>

			<h3>Via data-attributes</h3>

			<p>
				To easily add a context element to your item, add <code>data-toggle="contextElement"</code> to the element of your choice.
				Then add the <code>data-target</code> attribute with the ID or the class of the element that will be shown as context element.
			</p>

			<pre><code class="html">&lt;a href="#" data-toggle="contextElement" data-target="#contextMenuExample"&gt;
	Click me!
&lt;/a&gt;</code></pre>

			<p>The target can be any element of your choice. I prefer Bootstraps <code>dropdown-menu</code>.</p>

			<pre><code class="html">&lt;ul class="dropdown-menu" role="menu" id="contextMenuExample"&gt;
	&lt;li class="dropdown-header"&gt;Dropdown header&lt;/li&gt;
	&lt;li&gt;&lt;a role="menuitem" tabindex="-1" href="#"&gt;Action&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a role="menuitem" tabindex="-1" href="#"&gt;Second action&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a role="menuitem" tabindex="-1" href="#"&gt;An other action&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</code></pre>

			<div class="panel panel-default">
				<div class="panel-heading">Result</div>
				<div class="panel-body">
					<a href="#" onclick="return false;" data-toggle="contextElement" data-target="#contextMenuExample" data-leftClick="true" class="btn btn-default"><i class="icon-screenshot"></i> Click me!</a>
					<ul class="dropdown-menu" role="menu" id="contextMenuExample">
						<li class="dropdown-header">Dropdown header</li>
						<li><a role="menuitem" tabindex="-1" href="#">Action</a></li>
						<li><a role="menuitem" tabindex="-1" href="#">Second action</a></li>
						<li><a role="menuitem" tabindex="-1" href="#">An other action</a></li>
					</ul>
				</div>
			</div>

			<p>Alternatively you can add <code>data-source="yourfile.html"</code> to load the context element via Ajax.</p>

			<h3>Via JavaScript</h3>

			<p>To add a context element to an element via JavaScript:</p>
			<pre><code class="javascript">$('#myExampleElement').contextElement({target: '#contextMenuExample'});</code></pre>

			<h4>Methods</h4>

			<strong><code>.contextElement('hide');</code></strong><br />
			<p>Hides the context element of the element immediately.</p>
			<pre><code class="javascript">$('[data-toggle="contextElement"]').each(function () {
  $(this).contextElement('hide');
})</code></pre>

			<strong><code>.contextElement('hideIfNotModal');</code></strong><br />
			<p>Hides the context element of the element if it's not modal.</p>
			<pre><code class="javascript">$('[data-toggle="contextElement"]').each(function () {
  $(this).contextElement('hideIfNotModal');
})</code></pre>

			<h4>Options</h4>

			<p>
				<strong>All options</strong> can be passed as <strong>data-attribute</strong>. <br />
				For example, to add the modal or left click option to the element, you could use <code>data-modal="true"</code> or <code>data-leftClick="true"</code> on the parent element.
			</p>

			<div class="table-responsive">
				<table class="table table-bordered table-striped">
					<thead>
						<tr>
							<th style="width: 150px;">Name</th>
							<th>Type</th>
							<th>Default</th>
							<th>Description</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>target</td>
							<td>element</td>
							<td>null</td>
							<td>The target which will be shown as context element.</td>
						</tr>
						<tr>
							<td>source</td>
							<td>string or function</td>
							<td>null</td>
							<td>
								If source is a string, the content file be loaded via Ajax. If source is a function, the returned content will be displayed.
								You can pass parameters using the <code>ajax</code> option listed below. See <a href="#ajaxExample">Demo 3: Ajax example</a>.
							</td>
						</tr>
						<tr>
							<td>sourceLoadingText</td>
							<td>string or function</td>
							<td>Loading ...</td>
							<td>This is displayed until the source has been loaded. See <a href="#ajaxExample">Demo 3: Ajax example</a>.</td>
						</tr>
						<tr>
							<td>displayTimeout</td>
							<td>number</td>
							<td>2500</td>
							<td>Time in milliseconds until the client has to hover the context element. "0" disables this feature.</td>
						</tr>
						<tr>
							<td>mouseOutTimeout</td>
							<td>number</td>
							<td>300</td>
							<td>Time in milliseconds until the context element fades after leaving the opened element. "0" disables this feature.</td>
						</tr>
						<tr>
							<td>modal</td>
							<td>boolean</td>
							<td>false</td>
							<td>You need to close the context element manually. This option disabled <code>displayTimeout</code> and <code>mouseOutTimeout</code>. See
								<a href="#modalExample">Demo 6: Modal example</a>.
							</td>
						</tr>
						<tr>
							<td>cursorMargin</td>
							<td>number</td>
							<td>5</td>
							<td>Offset of pixels the context element is shown at the cursor.</td>
						</tr>
						<tr>
							<td>leftClick</td>
							<td>boolean</td>
							<td>false</td>
							<td>Show context element on left click.</td>
						</tr>
						<tr>
							<td>middleClick</td>
							<td>boolean</td>
							<td>false</td>
							<td>Show context element on middle click.</td>
						</tr>
						<tr>
							<td>rightClick</td>
							<td>boolean</td>
							<td>true</td>
							<td>Show context element on right click.</td>
						</tr>
						<tr>
							<td>effect</td>
							<td>string</td>
							<td>fade</td>
							<td>Open/close effect of the context element. Can be <code>fade</code> or <code>slide</code>.</td>
						</tr>
						<tr>
							<td>effectDuration</td>
							<td>number</td>
							<td>150</td>
							<td>Effect duration of the open/close animation.</td>
						</tr>
						<tr>
							<td>touch</td>
							<td>object</td>
							<td colspan="2">The context element can handle touch events. <br />
								Default:<pre><code class="javascript">{
    cursorMargin: 20,
    displayAfterTime: 500,
    displayTimeout: 0
}</code></pre>
								<dl class="dl-horizontal">
									<dt><code>cursorMargin</code></dt>
									<dd>In this case user uses his finger, which is bigger than a mouse cursor. That's why we have to set a bigger margin. If this would not be set, user might be selecting the first item immediately after touching the context element.</dd>
									<dt><code>displayAfterTime</code></dt>
									<dd>Context element will be shown after the client touches this amount of time on the element.</dd>
									<dt><code>displayTimeout</code></dt>
									<dd>The time the client has to select something. "0" disables the feature.</dd>
								</dl>
							</td>
						</tr>
						<tr id="optionAjax">
							<td>ajax</td>
							<td>object</td>
							<td colspan="2">
								These options are taken for the Ajax call of <code>source</code>. See <code><a href="http://api.jquery.com/jQuery.inArray/">jQuery.ajax()</a></code> settings.
							</td>
						</tr>
					</tbody>
				</table>
			</div>

			<h4>Events</h4>

			<div class="table-responsive">
				<table class="table table-bordered table-striped">
					<thead>
						<tr>
							<th style="width: 150px;">Event Type</th>
							<th>Description</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>beforeDisplay.bs.contextElement</td>
							<td>This event is fired right before the element gets visible.</td>
						</tr>
						<tr>
							<td>onDisplay.bs.contextElement</td>
							<td>This event is fired when the element is visible.</td>
						</tr>
						<tr>
							<td>beforeHide.bs.contextElement</td>
							<td>This event is fired before element gets invisible.</td>
						</tr>
						<tr>
							<td>onHidden.bs.contextElement</td>
							<td>This event is fired right after the element is invisible.</td>
						</tr>
						<tr>
							<td>sourceLoading.bs.contextElement</td>
							<td>This event is fired when the loading of the source has started.</td>
						</tr>
						<tr>
							<td>sourceLoaded.bs.contextElement</td>
							<td>This event is fired when the source is loaded.</td>
						</tr>
					</tbody>
				</table>
			</div>

			<pre><code class="javascript">$('#yourElement').on('beforeDisplay.bs.contextElement', function() {
	alert("I'll get visible now!");
});</code></pre>

			If you want to use the events of the Ajax call (when using external source), you can use the events of jQuery's
			<code><a href="http://api.jquery.com/jQuery.ajax/">jQuery.ajax()</a></code> method on initialization.

			<pre><code class="javascript">$('#yourElement').contextElement({
	source: 'ajax.html',
	ajax: {
		error: function() {
			alert('Something went wrong! Unable to get source!');
		}
	}
});</code></pre>

			<div class="panel panel-default">
				<div class="panel-heading">Events in action</div>
				<div class="panel-body">
					<a href="#" onclick="return false;" id="eventExampleLink" class="btn btn-default btn-block">Click me</a>
					<textarea id="eventExampleResult" cols="30" rows="7" class="form-control"></textarea>
					<script>
						$('#eventExampleLink').contextElement({
							source: 'ajax.html',
							leftClick: true,
							middleClick: true,
							rightClick: true,
							sourceLoadingText: function() {
								return $('<div></div>').addClass('alert alert-success').html('<i class="icon-spinner icon-spin"></i> Loading ...');
							}
						}).on('beforeDisplay.bs.contextElement',function() {
									$('#eventExampleResult').val($('#eventExampleResult').val() + "Fire beforeDisplay\n");
								}).on('onDisplay.bs.contextElement',function() {
									$('#eventExampleResult').val($('#eventExampleResult').val() + "Fire onDisplay\n");
								}).on('beforeHide.bs.contextElement',function() {
									$('#eventExampleResult').val($('#eventExampleResult').val() + "Fire beforeHide\n");
								}).on('onHidden.bs.contextElement',function() {
									$('#eventExampleResult').val($('#eventExampleResult').val() + "Fire onHidden\n");
								}).on('sourceLoading.bs.contextElement',function() {
									$('#eventExampleResult').val($('#eventExampleResult').val() + "Fire sourceLoading\n");
								}).on('sourceLoaded.bs.contextElement', function() {
									$('#eventExampleResult').val($('#eventExampleResult').val() + "Fire sourceLoaded\n");
								});
					</script>
				</div>
			</div>

			<h1 class="page-header" id="changes">Changes</h1>

			<h4>09-24-2013: 1.0</h4>
			<ul>
				<li>Fixed context element positioning when <code>source</code> is set.</li>
				<li>The option <code>source</code> can now be a function that returns HTML or Text.</li>
				<li>Add demo of <a href="#ondemandExample">OnDemand context element</a> using a function as <code>source</code>.</li>
			</ul>

			<h4>09-22-2013: Beta</h4>
			<p>Initial commit.</p>

		</div>
	</div>

	<hr />

	<p class="pull-right">
		<a href="https://github.com/Merec/context-element"><i class="icon-github"></i> GitHub project</a>
	</p>
	<p>
		by <a href="http://www.merec.org">Merec</a>
	</p>

</div>

<script type="text/javascript">
	$(document).ready(function() {
		hljs.initHighlightingOnLoad();
	});
</script>

<script>
	(function(i, s, o, g, r, a, m) {
		i['GoogleAnalyticsObject'] = r;
		i[r] = i[r] || function() {
			(i[r].q = i[r].q || []).push(arguments)
		}, i[r].l = 1 * new Date();
		a = s.createElement(o), m = s.getElementsByTagName(o)[0];
		a.async = 1;
		a.src = g;
		m.parentNode.insertBefore(a, m)
	})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

	ga('create', 'UA-2752709-10', 'merec.github.io');
	ga('send', 'pageview');
</script>

</body>
</html>